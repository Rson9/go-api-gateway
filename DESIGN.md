# 架构设计文档

## 1. 目标 (Goals)

本项目旨在创建一个轻量级但功能强大的 API 网关，具备以下特点：
- **高性能**: 利用 Go 的并发特性处理大量请求。
- **可扩展**: 易于添加新的中间件和功能。
- **易配置**: 通过简单的配置文件进行路由管理。

## 2. 高层架构

+----------------+      +-------------------+      +--------------------+
|      Client    |----->|   Go API Gateway  |----->|   Backend Service  |
| (e.g., curl)   |      |   (Port :8080)    |      |    (Port :9090)    |
+----------------+      +-------------------+      +--------------------+


## 3. 核心模块设计 (V1)

- **配置模块 (`Viper`)**: 负责从 `configs/config.yaml` 加载服务端口和后端目标 URL。
- **代理模块 (`internal/proxy`)**: 使用 Go 标准库 `net/http/httputil.NewSingleHostReverseProxy` 创建一个核心的反向代理处理器。它接收所有进入的 HTTP 请求，并将其转发到配置中指定的单一后端服务。
- **服务模块 (`internal/server`)**: 负责启动一个标准的 `http.Server`，并使用代理模块创建的处理器来处理所有请求。
